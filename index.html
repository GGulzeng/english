<html lang="ko">
<head>
<meta charset="utf-8"/>
<title>ÌÄ¥Ï¶à</title>
<link href="https://fonts.googleapis.com/css2?family=Schoolbell&display=swap" rel="stylesheet">
<style>
       body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 40px;
      text-align: center;
      background-image: url('Ïπ†Ìåê.jpeg');
      background-size: cover;
      background-position: center;
    }
    h1 {
      font-size: 70px;
      margin-bottom: 30px;
      font-weight: bold;
      color: #ffffff;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
    }
    #main-menu {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 40px;
      margin-top: 40px;
    }
    #main-menu .level-card {
      width: 600px;
      height: 600px;
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      border: none;
      background-color: transparent;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
.level-card:hover {
  animation: shake 0.4s ease-in-out;
}

@keyframes shake {
  0% { transform: translate(0px, 0px) rotate(0deg); }
  20% { transform: translate(-2px, 2px) rotate(-1deg); }
  40% { transform: translate(2px, -1px) rotate(1deg); }
  60% { transform: translate(-1px, 2px) rotate(0deg); }
  80% { transform: translate(2px, 1px) rotate(1deg); }
  100% { transform: translate(0px, 0px) rotate(0deg); }
}
    #main-menu .level-card:hover {
      transform: scale(1.05);
    }
    #main-menu .easy {
      background-image: url('level 1(chalk).png');
    }
    #main-menu .medium {
      background-image: url('level 2(chalk).png');
    }
    .choices-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 24px;
      margin-top: 30px;
    }
    .choice-btn {
      position: relative;
      width: 40%;
      min-width: 300px;
      height: 140px;
      font-size: 38px;
      font-family: 'Segoe UI', sans-serif;
      font-weight: bold;
      background: transparent;
      border-radius: 8px;
      border: 2px solid white;
      color: #fefefe;
      cursor: pointer;
      text-shadow: 0 0 1px white, 0 0 2px white;
      transition: 0.2s;
    }
    .choice-btn:hover {
      transform: scale(1.05);
      filter: brightness(1.2);
    }
    .correct {
    background-color: transparent !important;
    color: #ffffff;
    border: none;
    }
    .incorrect {
    background-color: transparent !important;
    color: #ffffff;
    border: none;
    }
#back-button {
  position: absolute;
  top: 20px;
  left: 20px;
  padding: 10px 16px;
  font-size: 16px;
  border-radius: 8px;
  border: 2px solid white;
  background-color: transparent;
  color: white;
  cursor: pointer;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
  transition: transform 0.2s ease;
}
    #feedback {
      margin-top: 24px;
      font-weight: bold;
      font-size: 18px;
      color: white;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
    }
    #quiz-box p {
      font-size: 64px;
      color: white;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
      font-family: 'Segoe UI', sans-serif;
    }
    #quiz-box p strong {
      font-size: 72px;
    }
button.pronounce {
  font-size: 24px;
  padding: 12px 20px;
  margin-top: 12px;
  background: transparent;
  border: 2px solid white;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
  transition: transform 0.2s ease;
}

button.pronounce:hover {
  transform: scale(1.05);
  background: rgba(255, 255, 255, 0.1);
}

    #progress {
      font-size: 24px;
      margin-bottom: 20px;
      color: white;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    }
    #result-modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-box {
      background-image: url('modal_result.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-color: transparent;
      padding: 60px;
      border-radius: 20px;
      box-shadow: 0 12px 32px rgba(0,0,0,0.3);
      text-align: center;
      max-width: 700px;
      width: 90%;
      height: 550px;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    #result-title {
      font-size: 56px;
      margin-bottom: 20px;
      color: #fff;
    }
    #result-message {
      font-size: 34px;
      color: #fff;
    }
    #result-icon {
      font-size: 72px;
      color: #fff;
      margin-bottom: 20px;
    }
    .next-info {
      font-size: 28px;
      color: #fff;
      margin-top: 35px;
    }

.crayon-stamp {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%; /* Î≤ÑÌäºÏóê Îî± ÎßûÍ≤å */
  height: 100%;
  object-fit: contain;
  pointer-events: none;
  animation: pop-in 0.3s ease-out;
  z-index: 3;
}
@keyframes pop-in {
  0% { transform: scale(0); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}
</style>
</head>
<body>

<h1>Ïò§ÎäòÏùò ÏòÅÏñ¥ÌÄ¥Ï¶à</h1>
<div id="main-menu">
  <div class="level-card easy" onclick="playClick(); startQuiz('elementary')" aria-label="Level 1 ÌÄ¥Ï¶à ÏãúÏûë"></div>
  <div class="level-card medium" onclick="playClick(); startQuiz('middle')" aria-label="Level 2 ÌÄ¥Ï¶à ÏãúÏûë"></div>
</div>



<div id="quiz-screen" style="display: none;">
<div id="progress"></div>
<button id="back-button" onclick="goBack()">‚Üê Îí§Î°úÍ∞ÄÍ∏∞</button>
<div id="quiz-box"></div>
<div id="feedback"></div>
</div>
<div id="result-modal">
<div class="modal-box">
<div id="result-icon">üéâ</div>
<h2 id="result-title"></h2>
<p id="result-message"></p>
<p class="next-info">10Ï¥à ÌõÑ Î©îÏù∏ÌôîÎ©¥ÏúºÎ°ú ÎèåÏïÑÍ∞ëÎãàÎã§...</p>
</div>
</div>
<audio id="correct-audio" src="Ï†ïÎãµ.mp3"></audio>
<audio id="wrong-audio" src="Ïò§Îãµ.mp3"></audio>
<audio id="cheer-audio" src="Ï¥àÎì±ÌïôÏÉù ÌôòÌò∏ÏÜåÎ¶¨.mp3"></audio>
<audio id="click-sound" src="click.mp3"></audio>

<script src="quizzes.js"></script>
<script>
    let currentLevel = '';
    let quizQueue = [];
    let currentIndex = 0;
    let correctCount = 0;

    function startQuiz(level) {
      document.getElementById('main-menu').style.display = 'none';
      document.getElementById('quiz-screen').style.display = 'block';
      document.getElementById("result-modal").style.display = 'none';
      currentLevel = level;
      correctCount = 0;
      quizQueue = quizzes[level].slice().sort(() => 0.5 - Math.random());
      currentIndex = 0;
      showNextQuiz();
    }

    function goBack() {
      document.getElementById('quiz-screen').style.display = 'none';
      document.getElementById('main-menu').style.display = 'flex';
      document.getElementById('quiz-box').innerHTML = '';
      document.getElementById('feedback').textContent = '';
      document.getElementById('progress').textContent = '';
    }

    function showNextQuiz() {
      document.getElementById("feedback").textContent = "";
      document.getElementById("progress").textContent = `${currentIndex + 1} / 10`;
      const box = document.getElementById("quiz-box");
      if (currentIndex >= 10 || currentIndex >= quizQueue.length) {
        showResultModal();
        return;
      }
      const quiz = quizQueue[currentIndex++];
      const word = quiz.question.match(/'(.*?)'/)[1];
      const currentAnswer = quiz.answer.trim();
      const allAnswers = quizzes[currentLevel].map(q => q.answer.trim()).filter(a => a);
      const shuffled = allAnswers.filter(a => a !== currentAnswer).sort(() => 0.5 - Math.random()).slice(0, 3);
      shuffled.push(currentAnswer);
      const choices = shuffled.sort(() => 0.5 - Math.random());

      const buttonsHTML = '<div class="choices-container">' + choices.map(choice =>
        `<button class="choice-btn" onclick="checkAnswer(this, '${currentAnswer}')">${choice}</button>`
      ).join("") + '</div>';

      box.innerHTML = `
        <p><strong>${quiz.question}</strong></p>
        <button class="pronounce" onclick="speak('${word}')">üîä Î∞úÏùå Îì£Í∏∞</button>
        <audio id="audio-${word.toLowerCase()}" src="tts/${word.toLowerCase()}.mp3"></audio>
        ${buttonsHTML}
      `;

      speak(word);
    }

function checkAnswer(button, correctAnswer) {
  const userChoice = button.textContent.trim();
  const buttons = document.querySelectorAll(".choice-btn");

  if (userChoice === correctAnswer) {
    document.getElementById("correct-audio").play();
    button.classList.add("correct");
    correctCount++;
    buttons.forEach(btn => btn.disabled = true);
    document.getElementById("feedback").textContent = "Ï†ïÎãµÏûÖÎãàÎã§!";
    document.getElementById("feedback").style.color = "white";
    showCrayonStamp(button);
    setTimeout(showNextQuiz, 2000);
  } else {
    document.getElementById("wrong-audio").play();
    button.classList.add("incorrect");
    buttons.forEach(btn => {
      if (btn.textContent.trim() === correctAnswer) {
        btn.classList.add("correct");
        showCrayonStamp(btn);
      }
      btn.disabled = true;
    });
    document.getElementById("feedback").textContent = "Ïò§ÎãµÏûÖÎãàÎã§. Ï†ïÎãµÏùÄ '" + correctAnswer + "' ÏûÖÎãàÎã§.";
    document.getElementById("feedback").style.color = "white";
    setTimeout(showNextQuiz, 2000);
  }
}

function showCrayonStamp(button) {
  const img = document.createElement("img");
  img.src = "crayon-circle.png";
  img.className = "crayon-stamp";
  button.style.position = "relative";
  button.appendChild(img);
}
function speak(word) {
  const audioId = "audio-" + word.toLowerCase();
  const audio = document.getElementById(audioId);
  if (audio) {
    audio.currentTime = 0;
    audio.play();
  }
}    
function showResultModal() {
      const cheerAudio = document.getElementById("cheer-audio");
      if (cheerAudio) {
        cheerAudio.currentTime = 0;
        cheerAudio.play().catch(e => console.warn("Autoplay blocked:", e));
      }
      const icon = document.getElementById("result-icon");
      const title = document.getElementById("result-title");
      const message = document.getElementById("result-message");

      let text = "";
      let emoji = "üôÇ";

      if (correctCount <= 2) {
        text = "ÏãúÏûëÏù¥ Î∞òÏù¥ÏóêÏöî! ÏßÄÍ∏àÏùÄ ÎßéÏù¥ ÌãÄÎ†∏ÏßÄÎßå, Î∞òÎ≥µÌï¥ÏÑú Ïó∞ÏäµÌïòÎ©¥ ÎàÑÍµ¨ÎÇò Ïã§Î†•Ïù¥ ÎäòÏñ¥Ïöî.";
        emoji = "üåÄ";
      } else if (correctCount <= 4) {
        text = "Ï°∞Í∏àÏî© ÏùµÏàôÌï¥ÏßÄÍ≥† ÏûàÏñ¥Ïöî. ÏûêÏ£º ÎÇòÏò§Îäî Îã®Ïñ¥Î•º Î©îÎ™®Ìï¥ÏÑú Ïô∏ÏõåÎ≥¥Îäî Í≤ÉÎèÑ Ï¢ãÏïÑÏöî.";
        emoji = "üìù";
      } else if (correctCount <= 6) {
        text = "Î∞ò Ïù¥ÏÉÅ ÎßûÏ∑ÑÏñ¥Ïöî! Í∏∞Ï¥àÎäî Ïûò ÎêòÏñ¥ ÏûàÏñ¥Ïöî. ÌãÄÎ¶∞ Îã®Ïñ¥Îäî ÏòàÎ¨∏ ÏÜçÏóêÏÑú Îã§Ïãú ÏùµÌòÄÎ≥¥ÏÑ∏Ïöî.";
        emoji = "üìö";
      } else if (correctCount === 7) {
        text = "ÏûòÌïòÍ≥† ÏûàÏñ¥Ïöî! Ïú†ÏÇ¨Ìïú Îã®Ïñ¥ÏôÄ Ìï®Íªò Ïô∏ÏõåÎ≥¥Î©¥ Îçî Ï¢ãÏïÑÏöî.";
        emoji = "üëç";
      } else if (correctCount === 8) {
        text = "Î©ãÏ†∏Ïöî! Ïã§ÏàòÎ•º Ï§ÑÏù¥Î†§Î©¥ Î¨∏Ï†úÎ•º Ï≤úÏ≤úÌûà Îã§Ïãú ÏùΩÏñ¥Î≥¥Îäî ÏäµÍ¥ÄÏùÑ Îì§Ïù¥ÏÑ∏Ïöî.";
        emoji = "üåü";
      } else if (correctCount === 9) {
        text = "ÌõåÎ•≠Ìï¥Ïöî! ÌãÄÎ¶∞ Îã®Ïñ¥ ÌïòÎÇòÎßå Î≥µÏäµÌïòÎ©¥ ÏôÑÎ≤ΩÌï¥Ïßà Ïàò ÏûàÏñ¥Ïöî.";
        emoji = "üí°";
      } else {
        text = "ÏôÑÎ≤ΩÌï¥Ïöî! Ïò§Îäò ÌïôÏäµÌïú Îã®Ïñ¥Îì§ÏùÑ Ïã§Ï†ú Î¨∏Ïû•ÏóêÏÑú ÏÇ¨Ïö©Ìï¥Î≥¥Î©¥ Îçî Ïò§Îûò Í∏∞ÏñµÌï† Ïàò ÏûàÏñ¥Ïöî.";
        emoji = "üéâ";
      }

      icon.textContent = emoji;
      title.textContent = `${correctCount} / 10`;
      message.textContent = text;

      document.getElementById("result-modal").style.display = "flex";
      setTimeout(() => {
        goBack();
        document.getElementById("result-modal").style.display = "none";
      }, 10000);
    }
   

function playClick() {
  const click = document.getElementById("click-sound");
  if (click) {
    click.currentTime = 0;
    click.play().catch(() => {});
  }
}

  </script>
</body>
</html>
